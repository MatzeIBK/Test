<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=true">

    <!-- Bootstrap init -->
    <script src="../js/jquery-1.11.2.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/main.js"></script>
    <script src="phonegap.js"></script>

    <!-- Styles init -->
    <link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="../css/bootstrap-theme.min.css" type="text/css"/>
    <link rel="stylesheet" href="../css/normalize.css" type="text/css"/>
    <link rel="stylesheet" href="../css/hammer.css" type="text/css"/>
    <!-- <link href="../css/styles.css" rel="stylesheet" type="text/css"/> -->


    <title>Electric Love Festival Offline Map</title>

    <script

            >var posX=0, posY=0,
            scale=1, last_scale,
            last_posX=0, last_posY=0,
            max_pos_x=0, max_pos_y=0;

    hammertime.on('touch drag transform dragend', function(ev) {
        switch (ev.type) {
            case 'touch':
                last_scale = scale;
                break;

            case 'drag':
                if (scale != 1) {
                    posX = last_posX + ev.gesture.deltaX;
                    posY = last_posY + ev.gesture.deltaY;
                    if (posX > max_pos_x) {
                        posX = max_pos_x;
                    }
                    if (posX < -max_pos_x) {
                        posX = -max_pos_x;
                    }
                    if (posY > max_pos_y) {
                        posY = max_pos_y;
                    }
                    if (posY < -max_pos_y) {
                        posY = -max_pos_y;
                    }
                } else {
                    posX = 0;
                    posY = 0;
                    saved_posX = 0;
                    saved_posY = 0;
                }
                break;

            case 'transform':
                scale = Math.max(1, Math.min(last_scale * ev.gesture.scale, 10));
                max_pos_x = Math.ceil((scale - 1) * rect.clientWidth / 2);
                max_pos_y = Math.ceil((scale - 1) * rect.clientHeight / 2);
                if (posX > max_pos_x) {
                    posX = max_pos_x;
                }
                if (posX < -max_pos_x) {
                    posX = -max_pos_x;
                }
                if (posY > max_pos_y) {
                    posY = max_pos_y;
                }
                if (posY < -max_pos_y) {
                    posY = -max_pos_y;
                }
                break;
            case 'dragend':
                last_posX = posX < max_pos_x ? posX : max_pos_x;
                last_posY = posY < max_pos_y ? posY : max_pos_y;
                break;
        }

        // transform!
        var transform =
                "translate3d(0, 0, 0) " +
                "scale3d(1, 1, 0) ";
        if (scale != 1) {
            transform =
                    "translate3d(" + posX + "px," + posY + "px, 0) " +
                    "scale3d(" + scale + "," + scale + ", 0) ";
        }

        rect.style.transform = transform;
        rect.style.oTransform = transform;
        rect.style.msTransform = transform;
        rect.style.mozTransform = transform;
        rect.style.webkitTransform = transform;
    });
    </script>
</head>

<body><!--
    <div class="content-info">
        <a href="../index.html" style="color: white; text-decoration: none;">
            <div class="header_div" style="color: white">
                <img src="../img/max/arrow_left_back.gif" class="header_arrow_back"/>
                Offline Map
            </div>
        </a>
-->

<script src="//cdnjs.cloudflare.com/ajax/libs/hammer.js/1.0.5/hammer.min.js"></script>


<div id="pinchzoom">
    <div>
        <img id="rect" src="../img/djs/alesso.jpg" ondragstart="return false" alt="" />
    </div>
</div>

        <!--        <img src="../img/max/offlinemap.jpg" class="img-responsive"/>
    </div>-->
</body>
</html>